# AttentionSync 生产环境配置
# 请在部署前修改所有默认值！

# ==================== 基础配置 ====================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ==================== 安全配置 ====================
# ⚠️ 必须修改！使用强随机密钥
SECRET_KEY=CHANGE_ME_TO_STRONG_RANDOM_KEY_256_BITS
JWT_SECRET=CHANGE_ME_TO_STRONG_JWT_SECRET_256_BITS

# ==================== 数据库配置 ====================
POSTGRES_DB=attentionsync_prod
POSTGRES_USER=attentionsync_prod
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_DB_PASSWORD
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==================== Redis 配置 ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==================== MinIO 配置 ====================
MINIO_ROOT_USER=CHANGE_ME_TO_STRONG_MINIO_USER
MINIO_ROOT_PASSWORD=CHANGE_ME_TO_STRONG_MINIO_PASSWORD
MINIO_DEFAULT_BUCKETS=attentionsync-prod

# ==================== API 密钥 ====================
OPENAI_API_KEY=your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ==================== 网络配置 ====================
API_PORT=8000
WEB_PORT=3000
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# 前端配置
NEXT_PUBLIC_API_URL=https://your-domain.com/api
NEXT_PUBLIC_WS_URL=wss://your-domain.com/ws

# ==================== 监控配置 ====================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_TO_STRONG_GRAFANA_PASSWORD

# ==================== 性能配置 ====================
# Celery 配置
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000
CELERY_TASK_TIME_LIMIT=1800
CELERY_TASK_SOFT_TIME_LIMIT=1500

# 数据库连接池
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ==================== 备份配置 ====================
BACKUP_S3_BUCKET=attentionsync-backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2点

# ==================== 限流配置 ====================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=100

# ==================== 日志配置 ====================
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30